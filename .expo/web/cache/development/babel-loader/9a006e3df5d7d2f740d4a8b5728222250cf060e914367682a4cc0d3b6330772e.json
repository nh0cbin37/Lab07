{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.buildNativeArray = buildNativeArray;\nexports.buildNativeMap = buildNativeMap;\nexports.generateNativeData = generateNativeData;\nexports.parseNativeArray = parseNativeArray;\nexports.parseNativeData = parseNativeData;\nexports.parseNativeMap = parseNativeMap;\nexports.provideDocumentReferenceClass = provideDocumentReferenceClass;\nexports.provideFieldValueClass = provideFieldValueClass;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _common = require(\"@react-native-firebase/app/lib/common\");\nvar _FirestoreBlob = _interopRequireDefault(require(\"../FirestoreBlob\"));\nvar _FirestoreFieldPath = require(\"../FirestoreFieldPath\");\nvar _FirestoreGeoPoint = _interopRequireDefault(require(\"../FirestoreGeoPoint\"));\nvar _FirestorePath = _interopRequireDefault(require(\"../FirestorePath\"));\nvar _FirestoreTimestamp = _interopRequireDefault(require(\"../FirestoreTimestamp\"));\nvar _typemap = require(\"./typemap\");\nvar FirestoreDocumentReference = null;\nfunction provideDocumentReferenceClass(documentReference) {\n  FirestoreDocumentReference = documentReference;\n}\nvar FirestoreFieldValue = null;\nfunction provideFieldValueClass(fieldValue) {\n  FirestoreFieldValue = fieldValue;\n}\nfunction buildNativeMap(data, ignoreUndefined) {\n  var nativeData = {};\n  if (data) {\n    var keys = Object.keys(data);\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (typeof data[key] === 'undefined') {\n        if (!ignoreUndefined) {\n          throw new Error('Unsupported field value: undefined');\n        } else {\n          continue;\n        }\n      }\n      var typeMap = generateNativeData(data[key], ignoreUndefined);\n      if (typeMap) {\n        nativeData[key] = typeMap;\n      }\n    }\n  }\n  return nativeData;\n}\nfunction buildNativeArray(array, ignoreUndefined) {\n  var nativeArray = [];\n  if (array) {\n    for (var i = 0; i < array.length; i++) {\n      var value = array[i];\n      if (typeof value === 'undefined') {\n        if (!ignoreUndefined) {\n          throw new Error('Unsupported field value: undefined');\n        } else {\n          continue;\n        }\n      }\n      var typeMap = generateNativeData(value, ignoreUndefined);\n      if (typeMap) {\n        nativeArray.push(typeMap);\n      }\n    }\n  }\n  return nativeArray;\n}\nfunction generateNativeData(value, ignoreUndefined) {\n  if (Number.isNaN(value)) {\n    return (0, _typemap.getTypeMapInt)('nan');\n  }\n  if (value === Number.NEGATIVE_INFINITY) {\n    return (0, _typemap.getTypeMapInt)('-infinity');\n  }\n  if (value === Number.POSITIVE_INFINITY) {\n    return (0, _typemap.getTypeMapInt)('infinity');\n  }\n  if ((0, _common.isNull)(value) || (0, _common.isUndefined)(value)) {\n    return (0, _typemap.getTypeMapInt)('null');\n  }\n  if (value === _FirestoreFieldPath.DOCUMENT_ID) {\n    return (0, _typemap.getTypeMapInt)('documentid');\n  }\n  if ((0, _common.isBoolean)(value)) {\n    if (value === true) {\n      return (0, _typemap.getTypeMapInt)('booleanTrue');\n    }\n    return (0, _typemap.getTypeMapInt)('booleanFalse');\n  }\n  if ((0, _common.isNumber)(value)) {\n    if (value === 0 && 1 / value === -Infinity) {\n      return (0, _typemap.getTypeMapInt)('negativeZero');\n    }\n    if (Number.isSafeInteger(value)) {\n      return (0, _typemap.getTypeMapInt)('integer', value);\n    }\n    return (0, _typemap.getTypeMapInt)('double', value);\n  }\n  if ((0, _common.isString)(value)) {\n    if (value === '') {\n      return (0, _typemap.getTypeMapInt)('stringEmpty');\n    }\n    return (0, _typemap.getTypeMapInt)('string', value);\n  }\n  if ((0, _common.isArray)(value)) {\n    return (0, _typemap.getTypeMapInt)('array', buildNativeArray(value, ignoreUndefined));\n  }\n  if ((0, _common.isObject)(value)) {\n    if (value instanceof FirestoreDocumentReference) {\n      return (0, _typemap.getTypeMapInt)('reference', value.path);\n    }\n    if (value instanceof _FirestoreGeoPoint.default) {\n      return (0, _typemap.getTypeMapInt)('geopoint', [value.latitude, value.longitude]);\n    }\n    if ((0, _common.isDate)(value)) {\n      var timestamp = _FirestoreTimestamp.default.fromDate(value);\n      return (0, _typemap.getTypeMapInt)('timestamp', [timestamp.seconds, timestamp.nanoseconds]);\n    }\n    if (value instanceof _FirestoreTimestamp.default) {\n      return (0, _typemap.getTypeMapInt)('timestamp', [value.seconds, value.nanoseconds]);\n    }\n    if (value instanceof _FirestoreBlob.default) {\n      return (0, _typemap.getTypeMapInt)('blob', value.toBase64());\n    }\n    if (value instanceof FirestoreFieldValue) {\n      return (0, _typemap.getTypeMapInt)('fieldvalue', [value._type, value._elements]);\n    }\n    return (0, _typemap.getTypeMapInt)('object', buildNativeMap(value, ignoreUndefined));\n  }\n  console.warn(`Unknown data type received ${value}`);\n  return (0, _typemap.getTypeMapInt)('unknown');\n}\nfunction parseNativeMap(firestore, nativeData) {\n  var data;\n  if (nativeData) {\n    data = {};\n    var entries = Object.entries(nativeData);\n    for (var i = 0; i < entries.length; i++) {\n      var _entries$i = (0, _slicedToArray2.default)(entries[i], 2),\n        key = _entries$i[0],\n        typeArray = _entries$i[1];\n      data[key] = parseNativeData(firestore, typeArray);\n    }\n  }\n  return data;\n}\nfunction parseNativeArray(firestore, nativeArray) {\n  var array = [];\n  if (nativeArray) {\n    for (var i = 0; i < nativeArray.length; i++) {\n      array.push(parseNativeData(firestore, nativeArray[i]));\n    }\n  }\n  return array;\n}\nfunction parseNativeData(firestore, nativeArray) {\n  var _nativeArray = (0, _slicedToArray2.default)(nativeArray, 2),\n    int = _nativeArray[0],\n    value = _nativeArray[1];\n  var type = (0, _typemap.getTypeMapName)(int);\n  switch (type) {\n    case 'nan':\n      return NaN;\n    case '-infinity':\n      return -Infinity;\n    case 'infinity':\n      return Infinity;\n    case 'null':\n      return null;\n    case 'booleanTrue':\n      return true;\n    case 'booleanFalse':\n      return false;\n    case 'double':\n    case 'integer':\n    case 'negativeZero':\n    case 'string':\n      return value;\n    case 'stringEmpty':\n      return '';\n    case 'array':\n      return parseNativeArray(firestore, value);\n    case 'object':\n      return parseNativeMap(firestore, value);\n    case 'reference':\n      return new FirestoreDocumentReference(firestore, _FirestorePath.default.fromName(value));\n    case 'geopoint':\n      return new _FirestoreGeoPoint.default(value[0], value[1]);\n    case 'timestamp':\n      return new _FirestoreTimestamp.default(value[0], value[1]);\n    case 'blob':\n      return _FirestoreBlob.default.fromBase64String(value);\n    default:\n      console.warn(`Unknown data type received from native channel: ${type}`);\n      return value;\n  }\n}","map":{"version":3,"names":["_common","require","_FirestoreBlob","_interopRequireDefault","_FirestoreFieldPath","_FirestoreGeoPoint","_FirestorePath","_FirestoreTimestamp","_typemap","FirestoreDocumentReference","provideDocumentReferenceClass","documentReference","FirestoreFieldValue","provideFieldValueClass","fieldValue","buildNativeMap","data","ignoreUndefined","nativeData","keys","Object","i","length","key","Error","typeMap","generateNativeData","buildNativeArray","array","nativeArray","value","push","Number","isNaN","getTypeMapInt","NEGATIVE_INFINITY","POSITIVE_INFINITY","isNull","isUndefined","DOCUMENT_ID","isBoolean","isNumber","Infinity","isSafeInteger","isString","isArray","isObject","path","FirestoreGeoPoint","latitude","longitude","isDate","timestamp","FirestoreTimestamp","fromDate","seconds","nanoseconds","FirestoreBlob","toBase64","_type","_elements","console","warn","parseNativeMap","firestore","entries","_entries$i","_slicedToArray2","default","typeArray","parseNativeData","parseNativeArray","_nativeArray","int","type","getTypeMapName","NaN","FirestorePath","fromName","fromBase64String"],"sources":["C:/ReactNative/DemoFireBase/node_modules/@react-native-firebase/firestore/lib/utils/serialize.js"],"sourcesContent":["/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport {\n  isArray,\n  isBoolean,\n  isDate,\n  isNull,\n  isNumber,\n  isObject,\n  isString,\n  isUndefined,\n} from '@react-native-firebase/app/lib/common';\nimport FirestoreBlob from '../FirestoreBlob';\nimport { DOCUMENT_ID } from '../FirestoreFieldPath';\nimport FirestoreGeoPoint from '../FirestoreGeoPoint';\nimport FirestorePath from '../FirestorePath';\nimport FirestoreTimestamp from '../FirestoreTimestamp';\nimport { getTypeMapInt, getTypeMapName } from './typemap';\n\n// To avoid React Native require cycle warnings\nlet FirestoreDocumentReference = null;\nexport function provideDocumentReferenceClass(documentReference) {\n  FirestoreDocumentReference = documentReference;\n}\n\nlet FirestoreFieldValue = null;\nexport function provideFieldValueClass(fieldValue) {\n  FirestoreFieldValue = fieldValue;\n}\n\n/**\n *\n * @param data\n * @param ignoreUndefined\n */\nexport function buildNativeMap(data, ignoreUndefined) {\n  const nativeData = {};\n  if (data) {\n    const keys = Object.keys(data);\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n\n      if (typeof data[key] === 'undefined') {\n        if (!ignoreUndefined) {\n          throw new Error('Unsupported field value: undefined');\n        } else {\n          continue;\n        }\n      }\n\n      const typeMap = generateNativeData(data[key], ignoreUndefined);\n      if (typeMap) {\n        nativeData[key] = typeMap;\n      }\n    }\n  }\n  return nativeData;\n}\n\n/**\n *\n * @param array\n * @returns {Array}\n */\nexport function buildNativeArray(array, ignoreUndefined) {\n  const nativeArray = [];\n  if (array) {\n    for (let i = 0; i < array.length; i++) {\n      const value = array[i];\n      if (typeof value === 'undefined') {\n        if (!ignoreUndefined) {\n          throw new Error('Unsupported field value: undefined');\n        } else {\n          continue;\n        }\n      }\n      const typeMap = generateNativeData(value, ignoreUndefined);\n      if (typeMap) {\n        nativeArray.push(typeMap);\n      }\n    }\n  }\n  return nativeArray;\n}\n\n/**\n * Creates a lightweight array of an object value to be sent over the bridge.\n * The type is convered to an integer which is handled on the native side\n * to create the correct types.\n *\n * Example: [7, 'some string'];\n *\n * @param value\n * @param ignoreUndefined\n * @returns {*}\n */\nexport function generateNativeData(value, ignoreUndefined) {\n  if (Number.isNaN(value)) {\n    return getTypeMapInt('nan');\n  }\n\n  if (value === Number.NEGATIVE_INFINITY) {\n    return getTypeMapInt('-infinity');\n  }\n\n  if (value === Number.POSITIVE_INFINITY) {\n    return getTypeMapInt('infinity');\n  }\n\n  if (isNull(value) || isUndefined(value)) {\n    return getTypeMapInt('null');\n  }\n\n  if (value === DOCUMENT_ID) {\n    return getTypeMapInt('documentid');\n  }\n\n  if (isBoolean(value)) {\n    if (value === true) {\n      return getTypeMapInt('booleanTrue');\n    }\n    return getTypeMapInt('booleanFalse');\n  }\n\n  if (isNumber(value)) {\n    // mirror the JS SDK's integer detection algorithm\n    // https://github.com/firebase/firebase-js-sdk/blob/086df7c7e0299cedd9f3cff9080f46ca25cab7cd/packages/firestore/src/remote/number_serializer.ts#L56\n    if (value === 0 && 1 / value === -Infinity) {\n      return getTypeMapInt('negativeZero');\n    }\n    if (Number.isSafeInteger(value)) {\n      return getTypeMapInt('integer', value);\n    }\n    return getTypeMapInt('double', value);\n  }\n\n  if (isString(value)) {\n    if (value === '') {\n      return getTypeMapInt('stringEmpty');\n    }\n    return getTypeMapInt('string', value);\n  }\n\n  if (isArray(value)) {\n    return getTypeMapInt('array', buildNativeArray(value, ignoreUndefined));\n  }\n\n  if (isObject(value)) {\n    if (value instanceof FirestoreDocumentReference) {\n      return getTypeMapInt('reference', value.path);\n    }\n\n    if (value instanceof FirestoreGeoPoint) {\n      return getTypeMapInt('geopoint', [value.latitude, value.longitude]);\n    }\n\n    // Handle Date objects are Timestamps as per web sdk\n    if (isDate(value)) {\n      const timestamp = FirestoreTimestamp.fromDate(value);\n      return getTypeMapInt('timestamp', [timestamp.seconds, timestamp.nanoseconds]);\n    }\n\n    if (value instanceof FirestoreTimestamp) {\n      return getTypeMapInt('timestamp', [value.seconds, value.nanoseconds]);\n    }\n\n    if (value instanceof FirestoreBlob) {\n      return getTypeMapInt('blob', value.toBase64());\n    }\n\n    if (value instanceof FirestoreFieldValue) {\n      return getTypeMapInt('fieldvalue', [value._type, value._elements]);\n    }\n\n    return getTypeMapInt('object', buildNativeMap(value, ignoreUndefined));\n  }\n\n  // eslint-disable-next-line no-console\n  console.warn(`Unknown data type received ${value}`);\n\n  return getTypeMapInt('unknown');\n}\n\n/**\n *\n * @param firestore\n * @param nativeData\n */\nexport function parseNativeMap(firestore, nativeData) {\n  let data;\n  if (nativeData) {\n    data = {};\n    const entries = Object.entries(nativeData);\n    for (let i = 0; i < entries.length; i++) {\n      const [key, typeArray] = entries[i];\n      data[key] = parseNativeData(firestore, typeArray);\n    }\n  }\n  return data;\n}\n\n/**\n *\n * @param firestore\n * @param nativeArray\n * @returns {Array}\n */\nexport function parseNativeArray(firestore, nativeArray) {\n  const array = [];\n  if (nativeArray) {\n    for (let i = 0; i < nativeArray.length; i++) {\n      array.push(parseNativeData(firestore, nativeArray[i]));\n    }\n  }\n  return array;\n}\n\n/**\n * Data returned from native is constructed in the same way it sent to keep\n * payloads over the bridge as small as possible. The index matches to a type\n * which is then created on JS land.\n *\n * Example: [7, 'string']\n *\n * @param firestore\n * @param nativeArray\n * @returns *\n */\nexport function parseNativeData(firestore, nativeArray) {\n  const [int, value] = nativeArray;\n  const type = getTypeMapName(int);\n\n  switch (type) {\n    case 'nan':\n      return NaN;\n    case '-infinity':\n      return -Infinity;\n    case 'infinity':\n      return Infinity;\n    case 'null':\n      return null;\n    case 'booleanTrue':\n      return true;\n    case 'booleanFalse':\n      return false;\n    case 'double':\n    case 'integer':\n    case 'negativeZero':\n    case 'string':\n      return value;\n    case 'stringEmpty':\n      return '';\n    case 'array':\n      return parseNativeArray(firestore, value);\n    case 'object':\n      return parseNativeMap(firestore, value);\n    case 'reference':\n      return new FirestoreDocumentReference(firestore, FirestorePath.fromName(value));\n    case 'geopoint':\n      return new FirestoreGeoPoint(value[0], value[1]);\n    case 'timestamp':\n      return new FirestoreTimestamp(value[0], value[1]);\n    case 'blob':\n      return FirestoreBlob.fromBase64String(value);\n    default:\n      // eslint-disable-next-line no-console\n      console.warn(`Unknown data type received from native channel: ${type}`);\n      return value;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}